=  Default Parameter File for DoPHOT Version 4.0 .      June 2012; MIT.
=
=  THIS IS THE MASTER DoPHOT DEFAULT PARAMETER FILE AND IT SHOULD NOT BE 
=  DELETED OR MODIFIED!
=
=  DoPHOT Parameter files are ALMOST pseudo-FITS headers.  
=  Each line for which a keyword is assigned a value must have an 
=  equals sign and at least one blank space immediately before and after it.  
=  Comments may be placed after the parameter value on any line and the equal 
=  sign may be located anywhere on a line.  A maximum of 80 characters is 
=  allowed per line.  Character variables MUST be enclosed in single quotes.  
=  All keyword names must start in the first column.  

=  As a hold over from when this was in Fortran, normal Fortran naming 
=  conventions are used to identify integer and real variables:  keywords 
=  starting with letters between I and N (inclusive) represent integer 
=  variables, all others are reals except for variables in quotes which are 
=  assumed to be character variables.  No restrictions apply to character 
=  variable keyword names except that all keyword names must be kept to under 
=  20 characters.  

=  Null character variables are represented as having
=  no equals sign.  An equals sign means a value is assigned. This is 
=  DIFFERENT THAN THE FORTRAN VERSION!!! 
=
=  In this master file, the parameters are grouped according to the typical 
=  frequency with which they are modified.  Short descriptions for each 
=  parameter are provided following the default value.   These defaults are 
=  designed to work for a `typical' TI CCD image.
=
=
=  FREQUENTLY UPDATED PARAMETERS.  These parameters mostly depend on the 
=  typical size of stellar objects on a given frame and on the mean sky value 
=  for the image.  These parameters tend to be different for every frame.  
=  Also included are the bookkeeping parameters that specify file names.
=
FWHM = 2.0             Approx FWHM of objects (pixels) along major axis.
AXIS_RATIO = 1.0       For star objects.  AR=b/a; b=minor axis.
TILT = 0.0             Angle of major axis in degrees; +x=0; +y=90.
SKY = 10.0             Approximate mean sky value in data numbers.
NFITBOX_X = 7          Size of fit box in the x-direction.
NFITBOX_Y = 7          Size of fit box in the y-direction.
MASKBOX_X = 5          Size of mask box size in x.
MASKBOX_Y = 5          Size of mask box size in y.
APBOX_X = 13.0         Size of aperture photometry box in x.
APBOX_Y = 13.0         Size of aperture photometry box in y.
IBOTTOM = -50          Lowest allowed data value in data numbers.
ITOP = 16384           Maximum allowed data value in data numbers.
THRESHMIN = 20.0       Value of lowest threshold.
THRESHMAX = 10000.0    Value of maximum threshold.
DOFINALFIT = 'YES'     Do a last fitting iteration after all objects found
=                      fully fits faintest objects of type 3, but slows DoPHOT
THRESHEMP = 0.0        Fit empirical PSF at and below this value.
THRESHDEC = 1.0        Threshold decrement in powers-of-2.
MAX_SOUGHT = 32768     Quit after this number of improved stars.
MAX_PERF  = 2000       Only average up to this number of stars to get shape parameters.
RANGE_MAG = 30.        Sets threshhold some magnitudes fainter than brightest fit.
EPERDN = 2.0           Electrons per data number.
RDNOISE = 15.0         Readout noise in=
AUTOSCALE = 'NO'       Auto-scaling of sizes by FWHM.
AUTOTHRESH = 'NO'      Auto-scaling of thresholds.
FIXPOS = 'NO'          Fix star positions?
=
PARAMS_DEFAULT = 'param_default_c'  Default parameters file name.
PARAMS_OUT = 'param_out'             Output parameters file name.
IMAGE_IN = 'image_in'                Input image name. 
IMAGE_OUT = 'image_out'              Output image name.
EMP_SUBRAS_OUT                       Empirical PSF subraster (most recent).
OBJECTS_IN                           Input object list file name.
OBJECTS_OUT = 'objects_out'          Output object list file name.
SHADOWFILE_IN                        Input shadow file name.
SHADOWFILE_OUT = 'shadowfile_out'    Output shadow file name.
ERRORS_OUT = 'error_out'  Errors of fit to be output if shadow file is requested
LOGFILE = 'TERM'                     Log file name.  TERM for screen.
LOGVERBOSITY = 1                     Verbosity of log file; (0-4).
=
=
=  OCCASIONALLY UPDATED PARAMETERS.  These parameters tend to not change for a 
=  set of images obtained during a single observing run or for frames of a 
=  single field.  The defaults for the flags PSFTYPE, SKYTYPE, and OUTTYPE are
=  PGAUSS, PLANE, and FULL, respectively.
=
RESIDNOISE = 0.3       Fraction of noise to ADD to noise file (analytic PSF).
EMP_RESIDNOISE = 0.03  Fraction of noise to ADD to noise file (empirical PSF).
FOOTPRINT_NOISE = 1.3  Expand stars in noise file by this amount (analytic).
NPHSUB = 1             Limiting surface brightness for subtractions.
NPHOB = 1              Limiting surface brightness for obliterations.
ICRIT = 10             Obliterate if # of pixels > ITOP exceeds this.
CENTINTMAX = 20000.0   Obliterate if central intensity exceeds this.
CTPERSAT = 1.0e4       Assumed intensity for saturated pixels.
STARGALKNOB = 1.0      Star/galaxy discriminator.
STARCOSKNOB = 1.0      Object/cosmic-ray discriminator.
SNLIM7 = 7.0           Minimum S/N for 7-parameter fit.
SNLIM = 0.5            Minimum S/N for a pixel to be in fit subraster.
SNLIMMASK = 4.0        Minimum S/N through mask to identify an object.
SNLIMCOS  = 3.0        Minimum S/N to be called a cosmic ray.
NBADLEFT = 0           Ignore pixels closer to the left edge than this.
NBADRIGHT = 0          Ignore pixels closer to the right edge than this.
NBADTOP = 0            Ignore pixels closer to the top edge than this.
NBADBOT = 0            Ignore pixels closer to the bottom edge than this.
=
PSFTYPE = 'PGAUSS'        PSF type: (PGAUSS, GAUSS, EXTPGAUSS)
SKYTYPE = 'PLANE'         SKY type: (PLANE, HUBBLE, MEDIAN)
=
JHXWID = 0              X Half-size of median box (.le. 0 -> autoscale)
JHYWID = 0              Y (same as above)
MPREC = 1               Median precision in DN (use .le. 0 for autocalc)
NTHPIX = 0              Frequency of sky updates in pixels for 1st pass
=
= Default value of NTHPIX is zero. DoPHOT translates it to SQRT(NFAST)
= once the data frame is read. For MEDIAN sky, positive NTHPIX gives
= control over NTHPIX for finer initial sky sample. 
=
=
OBJTYPE_IN = 'COMPLETE'   Input format: (COMPLETE, INTERNAL)
OBJTYPE_OUT = 'COMPLETE'  Output format: (COMPLETE, INCOMPLETE, INTERNAL)
=
PSDIR = './'               directory in which to put the PS files 
PSNAME_ROOT                ps files names: 'd####_PSNAME_ROOT.fits'
CPSNAME_ROOT               cleaned  ps file names: 'd####_CPSNAME_ROOT.fits'
MPSNAME_ROOT               model    ps file names: 'd####_MPSNAME_ROOT.fits'
RPSNAME_ROOT               residual ps file names: 'd####_RPSNAME_ROOT.fits'
=
=  RARELY UPDATED PARAMETERS.  These are specialized parameters that rarely
=  need changing even when measuring images of very different sorts of fields
=  and/or from different telescope/detector combinations.
=
NFITITER = 10          Maximum number of iterations.
=NPARAM = 7            OBSOLETE Maximum number of PSF fit parameters. obsolete, now set with model
NFITMAG = 4            No. of PSF parameters to get magnitudes.
=NFITSHAPE = 7         OBSOLETE No. of PSF parameters to get shape and mags.  obsolete
NFITBOXFIRST_X = 31    Size of fit box in x for first pass.
NFITBOXFIRST_Y = 31    Size of fit box in y for first pass.
N_EMP_SKIP = 0         Skip n stars brighter than empirical template.
EMP_STAR_X = 0         X position of empirical template.
EMP_STAR_Y = 0         Y position of empirical template.
EMP_STAR_Z = 0         Central intensity of empirical template.
NEMP_PSF_BOX = 33      Size of empirical PSF box
EMP_REJ_RAD_SIG = 2.0  Minimum distance of bad pixel from peak in sigma.
CHI2MINBIG = 16        Critical CHI-squared for a large object.
XTRA = 25              We need more S/N if some pixels are missing.
SIGMA1 = 0.10          Max. frac. scatter in sigma_x for stars.
SIGMA2 = 0.10          Max. scatter in xy cross term for stars.
SIGMA3 = 0.10          Max. frac. scatter in sigma_y for stars.
ENUFF4 = 0.50          Fraction of pixels needed for 4-param fit.
ENUFF7 = 0.65          Fraction of pixels needed for 7-param fit.
COSOBLSIZE = 0.9       Size of obliteration box for a cosmic ray.
APMAG_MAXERR = 0.1     Max anticipated error for aperture phot report.
PIXTHRESH = 1.0        Trigger on pixels higher than noise*PIXTHRESH.
BETA4 = 1.0            R**4 coefficient modifier.
BETA6 = 1.0            R**6 coefficient modifier.
COVARS_OUT             File to contain covariance matrices of fit to be output
=
=
=  AUTO SCALING PARAMETERS.  These parameters are used only if the auto-scaling
=  flags are turned on.  Box sizes, and threshold levels can be scaled 
=  according to the FWHM of objects and the sky and readout noise values.
=
SCALEFITBOX = 3.0      Size of fit box in units of FWHM.
FITBOXMIN = 5.0        Smallest allowed fit box size.
SCALEAPBOX = 6.0       Size of aperture phot box in units of FWHM.
APBOXMIN = 7.0         Smallest allowed aperture phot box size.
SCALEMASKBOX = 1.5     Size of mask box in units of FWHM.
AMASKBOXMIN = 5.0      Smallest allowed mask box size.
SIGMAIBOTTOM = 10.0    Level of IBOTTOM below sky in units of noise.
SIGMATHRESHMIN = 2.0   Level of THRESHMIN above sky in units of noise.
=
=
=  PARAMETER LIMITS.  These variables limit the legal ranges of the PSF and 
=  sky parameters.  Be sure to understand their function well before changing 
=  any of these values.  Positive values refer to fractional changes; negative
=  values to absolute changes; zero ABSLIM's turn the corresponding tests off.
=
RELACC1 = 0.01         Convergence criterion for sky.
RELACC2 = -0.03        Convergence criterion for x-position.
RELACC3 = -0.03        Convergence criterion for y-position.
RELACC4 = 0.01         Convergence criterion for for central intensity.
RELACC5 = 0.03         Convergence criterion for sigma-x.
RELACC6 = 0.1          Convergence criterion for sigma-xy.
RELACC7 = 0.03         Convergence criterion for sigma-y.
RELACC8 = 0.03         Convergence criterion for additional parameter 1
RELACC9 = 0.03         Convergence criterion for additional parameter 2
RELACC10 = 0.03        Convergence criterion for additional parameter 3
RELACC11 = 0.03        Convergence criterion for additional parameter 4
=
ABSLIM1 = -1.0e8       Allowed range for sky value.
ABSLIM2 = -1.0e3       Allowed range for x-position.
ABSLIM3 = -1.0e3       Allowed range for y-position.
ABSLIM4 = -1.0e8       Allowed range for central intensity.
ABSLIM5 = -1.0e3       Allowed range for sigma-x.
ABSLIM6 = -1.0e3       Allowed range for sigma-xy.
ABSLIM7 = -1.0e3       Allowed range for sigma-y.
END
